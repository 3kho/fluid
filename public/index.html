<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="module" src="/assets/js/settings_manager.js"></script>
    <script type="module" src="/assets/js/settings.js"></script>
    <script type="module" src="/assets/js/themes.js"></script>
    <script type="module" src="/assets/js/loader.js"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="A fast, simple, and well-designed tabbed proxy. Particpating in the 2024 Proxython!"
    />
    <meta
      name="keywords"
      content="proxy, bypass, fluid, proxython, ultraviolet, uv"
    />
    <meta name="author" content="Made by NC & Peak" />
    <title>Fluid</title>
    <link
      id="browser-link"
      href="/assets/css/default.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="/assets/css/global.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/themes.css" rel="stylesheet" type="text/css" />
    <link href="/favicon.ico" rel="icon" id="icon" />
    <!-- <script src="/assets/js/uv/uv.bundle.js" defer></script>
    <script src="/assets/js/uv/uv.config.js" defer></script>
    <script src="/assets/js/scram/scramjet.codecs.js"></script>
    <script src="/assets/js/scram/scramjet.bundle.js" defer></script>
    <script src="/assets/js/scram/scramjet.config.js" defer></script> -->

    <script src="/chemical.js"></script>
    <script type="module" src="/assets/js/tabs_manager.js" defer></script>
    <script type="module" src="/assets/js/tabs.js" defer></script>
    <script src="/assets/js/keybinds.js" defer></script>
    <link
      preconnect
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
  </head>

  <body>
    <div class="loading" id="loading-page">
      <span>Fluid is loading...</span>
      <div class="loading-bar" id="initial-loading-bar">
        <div class="loading-cell loaded"></div>
        <div class="loading-cell loaded"></div>
        <div class="loading-cell"></div>
        <div class="loading-cell"></div>
        <div class="loading-cell"></div>
        <div class="loading-cell"></div>
        <div class="loading-cell"></div>
        <div class="loading-cell"></div>
        <div class="loading-cell"></div>
        <div class="loading-cell"></div>
      </div>
      <span id="loading-tip"></span>
    </div>

    <div id="default-tab">
      <div class="tab">
        <div class="tab-content">
          <img
            alt="tab-icon"
            src="https://t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=https://google.com&size=32"
            class="tab-favicon"
          />
          <span class="tab-name">Google</span>
        </div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="tab-close"
          viewBox="0 0 30 30"
        >
          <path
            fill="#FFFFFF"
            d="M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"
          ></path>
        </svg>
      </div>
    </div>

    <div class="tabs" id="tabs-container">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="tab-add"
        id="tab-add"
        viewBox="0 0 24 24"
      >
        <path
          fill="#FFFFFF"
          d="M 11 2 L 11 11 L 2 11 L 2 13 L 11 13 L 11 22 L 13 22 L 13 13 L 22 13 L 22 11 L 13 11 L 13 2 Z"
        ></path>
      </svg>
    </div>

    <div class="bottom-bar">
      <div class="tab-controls">
        <button class="tab-control" id="backward">
          <span class="material-symbols-outlined">arrow_back</span>
        </button>
        <button class="tab-control" id="forward">
          <span class="material-symbols-outlined">arrow_forward</span>
        </button>
        <button class="tab-control" id="refresh">
          <span class="material-symbols-outlined">refresh</span>
        </button>
      </div>
      <form class="omni-box">
        <span class="material-symbols-outlined lock-icon">search</span>
        <input id="search-input" placeholder="Search Google or type a URL" />
      </form>

      <div class="menu-btn" id="menu-btn" onclick="openMenu();">
        <div class="menu-dot"></div>
        <div class="menu-dot"></div>
        <div class="menu-dot"></div>
      </div>
    </div>
    <div class="tabs-iframe" id="iframe-container"></div>

    <div class="context-menu" id="options-menu">
      <div class="context-menu__item"><i class="fa-solid fa-expand"></i> Fullscreen</div>
      <div class="context-menu__item"><i class="fa-solid fa-expand"></i> Fullscreen Tab</div>
      <div class="context-menu__item"><i class="fa-solid fa-gear"></i> Open Settings</div>
      <div class="context-menu__item"><i class="fa-brands fa-github"></i> Open Github</div>
    </div>

    <script src="/assets/js/contextmenu.js"></script>
    <script>
      window.addEventListener("message", async (event) => {
        if (event.data.key === "tabInfo") {
          const { title, favicon } = event.data.value;
          console.log("Setting Tab To:", title, favicon);
          await settings.set("tab-info", event.data.value);
          document.title = title;
          document.getElementById("icon").href = favicon;
        }
      });
    </script>
  </body>
</html>
